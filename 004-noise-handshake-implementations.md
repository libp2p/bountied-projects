# libp2p Noise handshake implementations

## Motivation and context

Secure channels are a critical feature of any modern p2p network, and libp2p mandates that all traffic between peers be encrypted and authenticated.

The [SecIO][secio-spec] secure channel was developed by the libp2p community to provide authenticated key exchange and secure transport between peers. We are working on industry-standard alternatives to SecIO, like [TLS 1.3][libp2p-tls-spec] and [Noise][noise-libp2p-spec-pr] handshakes.

The specification for the Noise handshake is still being drafted, and it would be of great assistance to the spec'ing process for someone to develop proof-of-concept implementations of the latest ideas in various languages.

## Value

<!-- Help the community understand the worth of carrying out this project, by
filling out the benefits and risks subsections. Write any general comments here.
-->

### Benefits (if addressed)

Noise is a lightweight cryptographic framework (even lighter than TLS 1.3) that is well-vetted and soundly designed. It defines a vocabulary and syntax for Diffie-Hellman operations, composed in a variety of patterns whose properties can be assessed by formal verification, and whose code can be [autogenerated](https://noiseexplorer.com/cmd/) to avoid rolling your own crypto.

Ethereum 2.0 has tentatively picked the Noise Protocol Framework to conduct its cryptographic handshakes in mainnet. This decision is reflected in the [Ethereum 2.0 networking spec][eth2-net-spec]. Implementing noise-libp2p will materially contribute to bring ETH2.0 a little bit closer to reality.

### Risks (if not addressed) 

Not implementing noise-libp2p would be a missed opportunity to improve libp2p's tech stack and grow the libp2p community, and may impact the roadmap for the Ethereum 2.0 mainnet launch. 

## Expected output and constraints

The ideal output is a working implementation of the [noise-libp2p spec][noise-libp2p-spec-pr] **for one, or several,** of the more mature libp2p implementations at the time: Go, JS, Rust, or Python.

As the noise-libp2p spec is not yet finalized, interested teams should read and comment their findings on the working draft as they develop their implementations against the current state.

A complete implementation will support all handshake patterns required by the spec and should include unit tests and API documentation.

## Relevant discussion

The [in-progress draft spec](https://github.com/libp2p/specs/pull/202) is the place to be for ongoing discussion, and will be the source of truth once finalized. There's also some discussion in the [issue proposing the spec](https://github.com/libp2p/specs/issues/195), as well as an [earlier public proposal for a hack project](https://github.com/libp2p/go-libp2p/issues/631).

## Design/implementation notes

The draft spec is largely inspired by the existing experimental implementation in rust-libp2p, and updating rust-libp2p to conform to the spec will likely be the most straightforward project if you're a Rust developer.

The [Noise Explorer command line tool](https://noiseexplorer.com/cmd/) is capable of generating Noise protocol implementations in Go, Rust and WebAssembly, and may form the basis of the go-libp2p implementation. We're very keen to get a Go implementation working.

The NoiseExplorer wasm target could be potentially used in a javsascript implementation as well, or there's [noise-c.wasm](https://github.com/nazar-pc/noise-c.wasm), which compiles the noise-c implementation into wasm using Emscripten.

Python devs should look at [noiseprotocol](https://github.com/plizonczyk/noiseprotocol).

## Potential funders

<!-- Optional: know of projects or organizations that would benefit from seeing this project come to fruition? Enumerate them here, supplying some context, and possibly mention the relevant people. -->

ETHBerlinZwei, Protocol Labs, Ethereum Foundation, Cosmos, Polkadot.

[noise-libp2p-spec-pr]: https://github.com/libp2p/specs/pull/202
[libp2p-tls-spec]: https://github.com/libp2p/specs/blob/master/tls/tls.md
[secio-spec]: https://github.com/libp2p/specs/blob/master/secio/README.md
[eth2-net-spec]: https://github.com/ethereum/eth2.0-specs/blob/dev/specs/networking/p2p-interface.md
